---
import Home from "../layouts/Home.astro";

import { getCollection } from "astro:content";
import sortByEpisodeNumber from "../utils/sortByEpisodeNumber.js";
import slugEp from "../utils/slugEp.js";

const episodes = await getCollection('episodes', ({ data })=> {
    let now: Date = new Date (Date.now());
    return data.pubDate < now && data.published === true;
})
episodes.sort(sortByEpisodeNumber);
---

<Home episodes = { episodes } />